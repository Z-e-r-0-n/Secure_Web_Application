{% extends "base.html" %}
{% block title %}friends{% endblock %}
{% block content %}
<forum method="post" action ="{{ url_for('main.search_friends') }}">
   <input type="text" name="search" placeholder="Search for friends...">
   <button type="submit">Search</button>
</forum>
{% if users %}
    <h2>users List</h2>
    <ul>
        {% for user in users %}
            <li>
                {{ user.username }} 
                {% if user.is_friend %}
                    <form method="POST" action="{{ url_for('main.remove_friend', friend_id=user.id) }}">
                        <button type="submit">Remove Friend</button>
                    </form>
                  {% elif user.is_pending %}
                    <form method="POST" action="{{ url_for('main.cancel_friend_request', friend_id=user.id) }}">
                        <button type="submit">Cancel Request</button>
                    </form>
                {% else %}
                    <form method="POST" action="{{ url_for('main.add_friend', friend_id=user.id) }}">
                        <button type="submit">Add Friend</button>
                    </form>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}